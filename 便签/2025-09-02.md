2025-09-02
## 清理innodb_cluster 的group_replication信息

```sql
STOP GROUP_REPLICATION;

-- 1. 重置组名称（核心标识，必须清空）
SET GLOBAL group_replication_group_name = '00000000-0000-0000-0000-000000000000';

-- 2. 重置种子节点列表（清除集群关联）
SET GLOBAL group_replication_group_seeds = '';

-- 3. 重置本地通信地址（断开节点自身的组复制通信）
SET GLOBAL group_replication_local_address = '';

-- 4. 关闭自动重启（避免重启 MySQL 后重新加入集群）
SET GLOBAL group_replication_start_on_boot = OFF;

-- 5. 重置自动重连次数（清除重试逻辑）
SET GLOBAL group_replication_autorejoin_tries = 0;

-- 6. 重置 IP 白名单（可选，若需完全解除限制）
SET GLOBAL group_replication_ip_allowlist = 'AUTOMATIC'; -- 恢复默认自动模式，也可设为 '' 清空

-- 7. 重置其他非必要参数（若需彻底清理，可选）
SET GLOBAL group_replication_force_members = ''; -- 清除强制指定的成员列表
SET GLOBAL group_replication_recovery_ssl_ca = ''; -- 清空 SSL 相关配置（若之前配置过）
SET GLOBAL group_replication_recovery_ssl_cert = '';
SET GLOBAL group_replication_recovery_ssl_key = '';

mysqlsh > dba.dropMetadataSchema()
```




