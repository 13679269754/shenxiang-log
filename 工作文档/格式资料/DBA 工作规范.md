# 安全

## 流程安全

1. 执行禅道 执行完必须验证，验证包括自己的验证，数据是否修改完成。语句是否提交。验证完成才可以点解 禅道完成。

## 脚本安全

1. 更新脚本，必须要知晓影响行数。
2. 更新数据，必须要能快速回滚。 -- 保存更新前的数据。
3. 更新大量数据，需要考虑对主从的影响，线上正常业务的影响。 -- 对大事务应该进行拆分

## 巡检 与 监控

1. 中间件的巡检。proxysql, orchastrator 的巡检。 --监控做好
2. 数据库连接的巡检。
3. 报错日志巡检。
4. 慢日志巡检。 

## 没有规矩不成方圆

1. 数据库命名规范，表结构规范，用户名规范
2. 在做操作时准备好脚本，在测试环境做好测试。
3. 不一定要找别人要规范，大胆的自己定，去找别人给意见。

## 数据库监控系统目前缺乏的部分

-- 目前的任务
### redis
1. redis 主从的监控
2. redis 未命中key 的监控，redis 大key 的监控

### mysql

**proxysql组件的监控**

1. 服务监控
2. 集群健康监控

**orchestrator组件的监控**

1. 集群状态
2. 服务监控


### 工作规范

1. 不看与工作学习无关的东西。。。心完全被带乱了。。。不要太放纵自己。。。
2. 不要自作主张随便动数据库。做好自己的角色不要给别人添麻烦。。。 还是那句话，工作还是要流程化，不要想当然，流程化就不会有大问题，出问题，原因也不在我。  